# ゼロから学ぶScala

プログラミング自体未経験な人向けのScala入門本。  
需要どこにあるんだと思いつつ、サクッと流し読み目的で購入。

演算子や基礎的なループ文より先にシングルトンオブジェクトを解説しており、多分これScalaの言語仕様的に先に出てくるような代物なんだろうな…と思ったなど。
文法は概ねわかったけど慣習的なことやScalaの特徴的なことはそれほどわからなかった。

演習問題の回答例は巻末にある。

## 言語特徴

- 9種類の基本型があり、全てクラス
  - Byte,Short,Int,Long,Char,Float,Double,Boolean,String
    - 直接記述することをリテラルという（"で括ったStringなど）
      - 関数も関数リテラル（無名関数的なもの）もある
  - 配列はArrayクラスのインスタンスということになる
    - `Array[Int]`
    - 変更できない配列としてリスト`List`もある
  - 異なる型をひとまとめに扱う「タプル」
    - `val tuple=(123,"hello",true,3.14)`
    - メソッドの結果値を受け取る際に`val (max,min)=maxmin(arr)`と記述することでタプルで返却し変数で受け取ることが可能
- valは不変、varは可変
  - valで指定したインスタンスのメンバ値は可変
- 異なる引数で同名メソッドが可能（オーバーロード）
- シングルトンオブジェクトを定義する宣言形式がある（クラスを定義せずオブジェクトを直接生成している？）
- 基本コンストラクタと補助コンストラクタがある
  - 基本コンストラクタは本来の意味でのコンストラクタに近い
  - 補助コンストラクタは引数違いで同クラスを呼び出せるようにするオーバーロードの亜種のような概念
    - thisメソッドで定義する
- 同一ソースファイル内であれば同名のシングルトンオブジェクトとクラスを定義できる。これをコンパニオンクラスと呼ぶ。
- クラスは単一継承、privateでないメンバを引き継ぐ
  - `override`で再定義可能
  - `super.method()`でオーバーライド前のメソッドを呼び出し可能
  - アクセス修飾子protectedメンバは引き継がれる。
- 抽象クラス、抽象メンバを`abstract`で定義可能
- `final`クラスとメンバも定義可能
- ScalaのすべてのクラスはAnyクラスを継承している
- トレイトを`trait`で定義可能
  - クラスパラメータやコンストラクタを持てない
  - クラスにミックスインする
    - `class X extends T`または`class X extends Y with T`
    - withを繰り返すことで複数のミックスインが可能
- Scalaのループは3種類「while」「do-while」「for」
- 条件分岐は「if」「match」
  - matchは「match」「case」「=>」で構成される、他言語のswitchのようなもの
  - `case _`で全マッチ
- 例外処理は「try」「catch」「finally」
  - catchではmatch文のようにしてcaseで例外を指定して補足する
    - できなければプログラムは停止する
- 関数リテラルも記述できる
  - `(引数リスト) => 関数本体`


## シングルトンオブジェクトとクラスとインスタンス

```
object SingletonSample {
  def main(args:Array[String]) {
    val p1=new Person("田中", 20)
    p1.introduce()
    println("フィールドアクセス："+p1.name)
  }
}
class Person(val n:String,a:Int) {
  private var age=a
  println("インスタンス生成 コンストラクタ実行 名前:"+name+" 年齢:"+age)

  def introduce() {
    // 同名変数がなければthisは省略してもコンパイラが勝手に解釈してくれる
    println("I am "+this.name+", "+age+" years old.")
  }
}
```

